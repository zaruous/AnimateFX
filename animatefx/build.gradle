plugins {
    id "java"
    id("org.openjfx.javafxplugin") version "0.1.0"
    id 'maven-publish'
    id 'signing'
}

repositories {
    mavenCentral()
}

group = rootProject.group
version = rootProject.version
sourceCompatibility = '21'
targetCompatibility = '21'

dependencies {
}

javafx {
    version = "18.0.2"
    modules = ['javafx.controls', 'javafx.base']
    configuration = 'compileOnly'
}

javadoc {
    if (JavaVersion.current().isJava9Compatible()) {
        options.addBooleanOption('html5', true)
    }
}

task sourcesJar(type: Jar) {
    getArchiveClassifier().set('sources')
    from sourceSets.main.allSource
}

task javadocJar(type: Jar) {
    getArchiveClassifier().set('javadoc')
    from javadoc
}

signing {
    useInMemoryPgpKeys(
            rootProject.ext["signing.keyId"],
            rootProject.ext["signing.key"],
            rootProject.ext["signing.password"],
    )
    sign publishing.publications
}

artifacts {
    archives javadocJar, sourcesJar
}



